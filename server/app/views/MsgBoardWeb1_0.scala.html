@import java.time.format.DateTimeFormatter
@import java.time.LocalDateTime

@(loggedInWith:String, messages:Seq[models.MsgBoardModel1.Message])(implicit request:RequestHeader, flash:Flash)


@main("Task List"){
    <h2>Message App</h2>
    Welcome, @loggedInWith.
    <br></br>


    @for(msg <- messages) {

        <div>
            <span>@msg.sentAt.format(DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss"))</span>
            <strong>@msg.from TO @msg.to.getOrElse("[PUBLIC]"):</strong> @msg.content
            
        </div>
    }

    <br></br>

    <form method="post" action="@routes.MsgBoardWeb1_0.putMessage">
        @helper.CSRF.formField
        To: <input type="text" name="to"></input>
        <br></br>
        <textarea name="content"></textarea>
        <br></br>
        <input type="submit" value="Put Message">
        <br></br>
    </form>


    <div>
        <a href="@routes.MsgBoardWeb1_0.logOut">Logout</a>
    </div>
}
